improved prototype typecasts
imporved prototype handling for is operator
