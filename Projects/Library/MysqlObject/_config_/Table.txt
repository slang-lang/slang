
#IMPORT#

public object #TABLE_PREFIX##ENTITY_NAME_UPPERCASE##TABLE_POSTFIX# {
#MEMBER_DECLARATION#

	public void Constructor( int databaseHandle = 0, int #PRIMARY_KEY# = 0 ) {
		DB = databaseHandle;

		if ( #PRIMARY_KEY# ) {
			loadByPrimaryKey( #PRIMARY_KEY# );
		}
	}

	public void Constructor( int databaseHandle = 0, string query ) {
		DB = databaseHandle;

		loadByQuery( query );
	}

	public void insert() modify throws {
		string query = "INSERT INTO #ENTITY_NAME# ( #MEMBER_LIST# ) VALUES ( #MEMBER_VALUES# )";

		int error = mysql_query( DB, query );
		if ( error ) {
			throw mysql_error( DB );
		}
	}

	public void loadByQuery( string query ) modify throws {
		int error = mysql_query( DB, query );
		if ( error ) {
			throw mysql_error( DB );
		}

		int result = mysql_store_result( DB );
		if ( !mysql_next_row( result ) ) {
			throw mysql_error( DB );
		}

#MEMBER_LOAD#
	}

	public void loadByPrimaryKey( int #PRIMARY_KEY# ) modify throws {
		string query = "SELECT * FROM #ENTITY_NAME# WHERE #PRIMARY_KEY# = '" + #PRIMARY_KEY# + "'";

		int error = mysql_query( DB, query );
		if ( error ) {
			throw mysql_error( DB );
		}

		int result = mysql_store_result( DB );
		if ( !mysql_next_row( result ) ) {
			throw mysql_error( DB );
		}

#MEMBER_LOAD#
	}

	public void loadByResult( int result ) modify {
#MEMBER_LOAD#
	}

	public void update() modify {
#MEMBER_UPDATE#
	}

	private int DB const;
}

